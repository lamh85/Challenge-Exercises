<!-- 
OBJECTIVE:

Using pure JavaScript and no 3rd party libraries or toolkits, write a simple program to capture the mouse movements of the user on the page and store it in an array. Sampling should made every 500 milliseconds.

The application must work correctly on IE8+, Firefox 4+ and Chrome (latest).
 -->

<!DOCTYPE html>
<html>
<head>
</head>

<body>
    Check out these variables in Javascript console:
    <ul>
        <li>x = x position</li>
        <li>y = y position</li>
        <li>array = the array of coordinates</li>
    </ul>

    <h1>Here is the array!</h1>
    <div id="panel"></div>

    <script>

        // Initialize the variables
        var array = [];
        var x;
        var y;
        var stringedArray;

        // Function for does the actual recording
        var getPositions = function(event){
            event = event || window.event;
            x = Math.round(event.clientX);
            y = Math.round(event.clientY);
        };

        // Bind event to the whole window.
        // The 3rd parameter is necessary for Firefox
        window.addEventListener('mousemove', getPositions, false);

        // Push to array
        var repeatingFunction = function(){
            array.push({xPosition: x, yPosition: y});

            stringedArray = "";
            for (i = 0; i < array.length; i++) {
                stringedArray += "<br>Element " +(i+1)+ ": " +JSON.stringify(array[i]);
            }

            document.getElementById('panel').innerHTML = stringedArray;
            // JSON.stringify(array);
        };

        // Repeating pushing to array
        setInterval(repeatingFunction,500);

    </script>
</body>
</html>